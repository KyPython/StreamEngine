{"ast":null,"code":"var _jsxFileName = \"/Users/ky/Desktop/GitHub/VS_Code/StreamEngine/streamengine-frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid } from 'recharts';\nimport React, { useEffect, useState } from 'react';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [alert, setAlert] = useState(null);\n\n  // Set your threshold here\n  const THRESHOLD = 0.9;\n  useEffect(() => {\n    const ws = new WebSocket('ws://localhost:4000');\n    ws.onmessage = event => {\n      try {\n        const msg = JSON.parse(event.data);\n        console.log('Raw message:', msg);\n        if (msg.value !== 'Test message from backend') {\n          // Extract numeric value for charting\n          const numericValue = parseFloat(msg.value.match(/[\\d.]+/));\n          console.log('Extracted numericValue:', numericValue);\n          setMessages(prev => [{\n            ...msg,\n            number: !isNaN(numericValue) ? numericValue : null\n          }, ...prev]);\n          if (!isNaN(numericValue) && numericValue > THRESHOLD) {\n            setAlert(`⚠️ Value exceeded threshold: ${numericValue}`);\n            setTimeout(() => setAlert(null), 5000);\n          }\n        }\n      } catch (error) {\n        console.error('Failed to parse message:', error);\n      }\n    };\n    ws.onerror = error => {\n      console.error('WebSocket error:', error);\n    };\n    return () => ws.close();\n  }, []);\n  useEffect(() => {\n    // Log the messages array whenever it updates\n    console.log('Messages array:', messages);\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 600,\n      margin: '40px auto',\n      padding: 24,\n      background: '#f9f9f9',\n      borderRadius: 12,\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: 'center',\n        color: '#1976d2'\n      },\n      children: \"Real-Time Kafka Messages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), alert && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#ffebee',\n        color: '#c62828',\n        padding: '12px',\n        borderRadius: 8,\n        marginBottom: 16,\n        textAlign: 'center',\n        fontWeight: 'bold'\n      },\n      children: alert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(LineChart, {\n      width: 500,\n      height: 300,\n      data: messages.slice(0, 20).reverse(),\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        stroke: \"#eee\",\n        strokeDasharray: \"5 5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"timestamp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        type: \"monotone\",\n        dataKey: \"number\",\n        stroke: \"#8884d8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: 'none',\n        padding: 0\n      },\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          background: '#fff',\n          margin: '12px 0',\n          padding: '12px 18px',\n          borderRadius: 8,\n          boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: msg.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            color: '#888'\n          },\n          children: msg.timestamp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"C/Er9hfM1Un0RSFLUWFaMYIfC4w=\");\n_c = App;\nexport default App;\n\n//\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["LineChart","Line","XAxis","YAxis","Tooltip","CartesianGrid","React","useEffect","useState","jsxDEV","_jsxDEV","App","_s","messages","setMessages","alert","setAlert","THRESHOLD","ws","WebSocket","onmessage","event","msg","JSON","parse","data","console","log","value","numericValue","parseFloat","match","prev","number","isNaN","setTimeout","error","onerror","close","style","maxWidth","margin","padding","background","borderRadius","boxShadow","children","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","fontWeight","width","height","slice","reverse","stroke","strokeDasharray","dataKey","type","listStyle","map","idx","fontSize","timestamp","_c","$RefreshReg$"],"sources":["/Users/ky/Desktop/GitHub/VS_Code/StreamEngine/streamengine-frontend/src/App.jsx"],"sourcesContent":["import { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid } from 'recharts';\nimport React, { useEffect, useState } from 'react';\nimport './index.css';\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [alert, setAlert] = useState(null);\n\n  // Set your threshold here\n  const THRESHOLD = 0.9;\n\n  useEffect(() => {\n    const ws = new WebSocket('ws://localhost:4000');\n    ws.onmessage = (event) => {\n      try {\n        const msg = JSON.parse(event.data);\n        console.log('Raw message:', msg);\n        if (msg.value !== 'Test message from backend') {\n          // Extract numeric value for charting\n          const numericValue = parseFloat(msg.value.match(/[\\d.]+/));\n          console.log('Extracted numericValue:', numericValue);\n          setMessages(prev => [\n            {\n              ...msg,\n              number: !isNaN(numericValue) ? numericValue : null,\n            },\n            ...prev,\n          ]);\n          if (!isNaN(numericValue) && numericValue > THRESHOLD) {\n            setAlert(`⚠️ Value exceeded threshold: ${numericValue}`);\n            setTimeout(() => setAlert(null), 5000);\n          }\n        }\n      } catch (error) {\n        console.error('Failed to parse message:', error);\n      }\n    };\n    ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n    };\n    return () => ws.close();\n  }, []);\n\n  useEffect(() => {\n    // Log the messages array whenever it updates\n    console.log('Messages array:', messages);\n  }, [messages]);\n\n  return (\n    <div style={{\n      maxWidth: 600,\n      margin: '40px auto',\n      padding: 24,\n      background: '#f9f9f9',\n      borderRadius: 12,\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n    }}>\n      <h1 style={{ textAlign: 'center', color: '#1976d2' }}>Real-Time Kafka Messages</h1>\n      {alert && (\n        <div style={{\n          background: '#ffebee',\n          color: '#c62828',\n          padding: '12px',\n          borderRadius: 8,\n          marginBottom: 16,\n          textAlign: 'center',\n          fontWeight: 'bold'\n        }}>\n          {alert}\n        </div>\n      )}\n      <LineChart width={500} height={300} data={messages.slice(0, 20).reverse()}>\n        <CartesianGrid stroke=\"#eee\" strokeDasharray=\"5 5\" />\n        <XAxis dataKey=\"timestamp\" />\n        <YAxis />\n        <Tooltip />\n        <Line type=\"monotone\" dataKey=\"number\" stroke=\"#8884d8\" />\n      </LineChart>\n      <ul style={{ listStyle: 'none', padding: 0 }}>\n        {messages.map((msg, idx) => (\n          <li key={idx} style={{\n            background: '#fff',\n            margin: '12px 0',\n            padding: '12px 18px',\n            borderRadius: 8,\n            boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\n          }}>\n            <strong>{msg.value}</strong>\n            <div style={{ fontSize: 12, color: '#888' }}>{msg.timestamp}</div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n\n//"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}